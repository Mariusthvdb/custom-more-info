!function(){"use strict";function e(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{a(o.next(e))}catch(e){s(e)}}function c(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}a((o=o.apply(e,t||[])).next())}))}function t(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}function n(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;const o="$",i=":host",s="invalid selector";function r(e,t,n,o,i=!1){return new Promise((r=>{let c=0;const a=()=>{const l=i?e.querySelectorAll(t):e.querySelector(t);i&&l.length||!i&&null!==l?r(l):(c++,c<n?setTimeout(a,o):r(i?document.querySelectorAll(s):null))};a()}))}function c(e,t,n){return new Promise((o=>{let i=0;const s=()=>{const r=e.shadowRoot;r?o(r):(i++,i<t?setTimeout(s,n):o(null))};s()}))}function a(e){return e instanceof Promise?e:Promise.resolve(e)}function l(t,n,s,a){return e(this,void 0,void 0,(function*(){let e=null;const l=t.length;for(let O=0;O<l;O++){if(0===O)if(t[O].length)e=yield r(n,t[O],s,a);else{if(n instanceof Document)throw new SyntaxError(`You can not select a shadowRoot (${o}) of the document.`);e=n.shadowRoot?yield r(n.shadowRoot,t[++O],s,a):null}else{const n=yield c(e,s,a);e=n?yield r(n,`${i} ${t[O]}`,s,a):null}if(null===e)return null}return e}))}function O(t,n,i,s){return e(this,void 0,void 0,(function*(){const e=function(e,t){return function(e){return e.split(",").map((e=>e.trim()))}(e).map((e=>{const n=function(e){return e.split(o).map((e=>e.trim()))}(e);return t(n)}))}(t,(e=>{if(!e[e.length-1].length)throw new SyntaxError(function(e,t){return`${e} cannot be used with a selector ending in a shadowRoot (${o}).${t?` If you want to select a shadowRoot, use ${t} instead.`:""}`}("asyncQuerySelector","asyncShadowRootQuerySelector"));return e})),r=e.length;for(let t=0;t<r;t++){const o=yield l(e[t],n,i,s);if(o)return o}return null}))}var _,h;function A(...t){return e(this,void 0,void 0,(function*(){if((e=>{const[t,n]=e;return(o=t)&&(o instanceof Document||o instanceof Element)&&"string"==typeof n;var o})(t)){const[e,n,o]=t;return yield O(n,e,(null==o?void 0:o.retries)||10,(null==o?void 0:o.delay)||10)}const[e,n]=t;return yield O(e,document,(null==n?void 0:n.retries)||10,(null==n?void 0:n.delay)||10)}))}let f=class i{constructor(e,t){_.set(this,void 0),h.set(this,void 0),e instanceof Node||e instanceof Promise?(n(this,_,e,"f"),n(this,h,Object.assign({retries:10,delay:10},t||{}),"f")):(n(this,_,document,"f"),n(this,h,Object.assign({retries:10,delay:10},e||{}),"f"))}get element(){return a(t(this,_,"f")).then((e=>e instanceof NodeList?e[0]||null:e))}get[(_=new WeakMap,h=new WeakMap,o)](){const e=a(t(this,_,"f")).then((e=>e instanceof Document||e instanceof ShadowRoot||null===e||e instanceof NodeList&&0===e.length?null:e instanceof NodeList?c(e[0],t(this,h,"f").retries,t(this,h,"f").delay):c(e,t(this,h,"f").retries,t(this,h,"f").delay)));return new i(e,t(this,h,"f"))}get all(){return a(t(this,_,"f")).then((e=>e instanceof NodeList?e:document.querySelectorAll(s)))}get asyncParams(){return t(this,h,"f")}eq(n){return e(this,void 0,void 0,(function*(){return a(t(this,_,"f")).then((e=>e instanceof NodeList&&e[n]||null))}))}query(e){const n=a(t(this,_,"f")).then((n=>null===n||n instanceof NodeList&&0===n.length?null:n instanceof NodeList?r(n[0],e,t(this,h,"f").retries,t(this,h,"f").delay,!0):r(n,e,t(this,h,"f").retries,t(this,h,"f").delay,!0)));return new i(n,t(this,h,"f"))}};function d(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}function E(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;const u="$",I={retries:100,delay:50};var N,L,R,w,H;!function(e){e.HOME_ASSISTANT="HOME_ASSISTANT",e.HOME_ASSISTANT_MAIN="HOME_ASSISTANT_MAIN",e.HA_DRAWER="HA_DRAWER",e.HA_SIDEBAR="HA_SIDEBAR"}(N||(N={})),function(e){e.PARTIAL_PANEL_RESOLVER="PARTIAL_PANEL_RESOLVER",e.HA_PANEL_LOVELACE="HA_PANEL_LOVELACE",e.HUI_ROOT="HUI_ROOT",e.HEADER="HEADER",e.HUI_VIEW="HUI_VIEW"}(L||(L={})),function(e){e.HA_MORE_INFO_DIALOG="HA_MORE_INFO_DIALOG",e.HA_DIALOG="HA_DIALOG",e.HA_DIALOG_CONTENT="HA_DIALOG_CONTENT",e.HA_MORE_INFO_DIALOG_INFO="HA_MORE_INFO_DIALOG_INFO",e.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK="HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK",e.HA_DIALOG_MORE_INFO_SETTINGS="HA_DIALOG_MORE_INFO_SETTINGS"}(R||(R={})),function(e){e.ON_LOVELACE_PANEL_LOAD="onLovelacePanelLoad",e.ON_LOVELACE_MORE_INFO_DIALOG_OPEN="onLovelaceMoreInfoDialogOpen",e.ON_LOVELACE_HISTORY_AND_LOGBOOK_DIALOG_OPEN="onLovelaceHistoryAndLogBookDialogOpen",e.ON_LOVELACE_SETTINGS_DIALOG_OPEN="onLovelaceSettingsDialogOpen"}(w||(w={})),function(e){e.HOME_ASSISTANT="home-assistant",e.HOME_ASSISTANT_MAIN="home-assistant-main",e.HA_DRAWER="ha-drawer",e.HA_SIDEBAR="ha-sidebar",e.PARTIAL_PANEL_RESOLVER="partial-panel-resolver",e.HA_PANEL_LOVELACE="ha-panel-lovelace",e.HUI_ROOT="hui-root",e.HEADER=".header",e.HUI_VIEW="hui-view",e.HA_MORE_INFO_DIALOG="ha-more-info-dialog",e.HA_DIALOG="ha-dialog",e.HA_DIALOG_CONTENT=".content",e.HA_MORE_INFO_DIALOG_INFO="ha-more-info-info",e.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK="ha-more-info-history-and-logbook",e.HA_DIALOG_MORE_INFO_SETTINGS="ha-more-info-settings"}(H||(H={}));const S={[N.HOME_ASSISTANT]:{selector:H.HOME_ASSISTANT,children:{shadowRoot:{selector:u,children:{[N.HOME_ASSISTANT_MAIN]:{selector:H.HOME_ASSISTANT_MAIN,children:{shadowRoot:{selector:u,children:{[N.HA_DRAWER]:{selector:H.HA_DRAWER,children:{[N.HA_SIDEBAR]:{selector:H.HA_SIDEBAR,children:{shadowRoot:{selector:u}}}}}}}}}}}}}},T={[L.PARTIAL_PANEL_RESOLVER]:{selector:H.PARTIAL_PANEL_RESOLVER,children:{[L.HA_PANEL_LOVELACE]:{selector:H.HA_PANEL_LOVELACE,children:{shadowRoot:{selector:u,children:{[L.HUI_ROOT]:{selector:H.HUI_ROOT,children:{shadowRoot:{selector:u,children:{[L.HEADER]:{selector:H.HEADER},[L.HUI_VIEW]:{selector:H.HUI_VIEW}}}}}}}}}}}},m={shadowRoot:{selector:u,children:{[R.HA_MORE_INFO_DIALOG]:{selector:H.HA_MORE_INFO_DIALOG,children:{shadowRoot:{selector:u,children:{[R.HA_DIALOG]:{selector:H.HA_DIALOG,children:{[R.HA_DIALOG_CONTENT]:{selector:H.HA_DIALOG_CONTENT,children:{[R.HA_MORE_INFO_DIALOG_INFO]:{selector:H.HA_MORE_INFO_DIALOG_INFO},[R.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]:{selector:H.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK},[R.HA_DIALOG_MORE_INFO_SETTINGS]:{selector:H.HA_DIALOG_MORE_INFO_SETTINGS}}}}}}}}}}}},D=(e,t,n=null,o=!1)=>Object.entries(t||{}).reduce(((t,i)=>{const[s,r]=i;if(r.selector===u&&n)return r.children?Object.assign(Object.assign({},t),D(e,r.children,n,!0)):t;const c=n?n.then((t=>{return A(t,(n=r.selector,o?"$ "+n:n),e);var n})):A(r.selector,e);return t[s]={element:c,children:D(e,r.children,c),selector:new f(c,e)},t}),{}),v=(e,t)=>{const n=Object.entries(t);for(const t of n){if(t[0]===e)return t[1];{const n=v(e,t[1].children);if(n)return n}}},M=(e,t)=>Object.keys(e).reduce(((e,n)=>{const o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(v(n,t),["children"]);return e[n]=Object.assign({},o),e}),{});var p,G,y,b,F,g,P,C,W,V,k,j,B,$,U,Y,K,q,x,Q,z,J,X,Z,ee;class te extends EventTarget{constructor(e={}){super(),p.add(this),G.set(this,void 0),y.set(this,void 0),b.set(this,void 0),F.set(this,void 0),g.set(this,void 0),P.set(this,void 0),C.set(this,void 0),W.set(this,void 0),V.set(this,void 0),k.set(this,void 0),j.set(this,void 0),B.set(this,void 0),$.set(this,void 0),U.set(this,void 0),Y.set(this,void 0),K.set(this,void 0),E(this,G,Object.assign(Object.assign({},I),e),"f")}listen(){E(this,B,d(this,p,"m",J).bind(this),"f"),E(this,$,d(this,p,"m",X).bind(this),"f"),E(this,U,d(this,p,"m",Z).bind(this),"f"),E(this,Y,d(this,p,"m",ee).bind(this),"f"),E(this,W,new MutationObserver(d(this,B,"f")),"f"),E(this,V,new MutationObserver(d(this,$,"f")),"f"),E(this,k,new MutationObserver(d(this,U,"f")),"f"),E(this,j,new MutationObserver(d(this,Y,"f")),"f"),d(this,p,"m",Q).call(this),d(this,p,"m",z).call(this)}addEventListener(e,t,n){super.addEventListener(e,t,n)}}G=new WeakMap,y=new WeakMap,b=new WeakMap,F=new WeakMap,g=new WeakMap,P=new WeakMap,C=new WeakMap,W=new WeakMap,V=new WeakMap,k=new WeakMap,j=new WeakMap,B=new WeakMap,$=new WeakMap,U=new WeakMap,Y=new WeakMap,K=new WeakMap,p=new WeakSet,q=function(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))},x=function(e=R.HA_MORE_INFO_DIALOG_INFO){E(this,y,D(d(this,G,"f"),m,d(this,P,"f").HOME_ASSISTANT.element),"f");const t=M(R,d(this,y,"f"));t.HA_DIALOG_CONTENT.element.then((e=>{d(this,V,"f").disconnect(),d(this,V,"f").observe(e,{childList:!0})})),E(this,g,((e,t)=>[R.HA_MORE_INFO_DIALOG,R.HA_DIALOG,R.HA_DIALOG_CONTENT,t].reduce(((t,n)=>(t[n]=e[n],t)),{}))(t,e),"f");const n={[R.HA_MORE_INFO_DIALOG_INFO]:w.ON_LOVELACE_MORE_INFO_DIALOG_OPEN,[R.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]:w.ON_LOVELACE_HISTORY_AND_LOGBOOK_DIALOG_OPEN,[R.HA_DIALOG_MORE_INFO_SETTINGS]:w.ON_LOVELACE_SETTINGS_DIALOG_OPEN};d(this,p,"m",q).call(this,n[e],d(this,g,"f"))},Q=function(){E(this,b,D(d(this,G,"f"),S),"f"),E(this,P,M(N,d(this,b,"f")),"f"),d(this,P,"f")[N.HOME_ASSISTANT].selector.$.element.then((e=>{d(this,W,"f").disconnect(),d(this,W,"f").observe(e,{childList:!0})}))},z=function(){const e=Date.now();e-d(this,K,"f")<500||(E(this,K,e,"f"),E(this,F,D(d(this,G,"f"),T,d(this,P,"f")[N.HA_DRAWER].element),"f"),E(this,C,M(L,d(this,F,"f")),"f"),d(this,C,"f")[L.PARTIAL_PANEL_RESOLVER].element.then((e=>{d(this,k,"f").disconnect(),d(this,k,"f").observe(e,{childList:!0})})),d(this,C,"f")[L.HA_PANEL_LOVELACE].selector.$.element.then((e=>{d(this,j,"f").disconnect(),d(this,j,"f").observe(e,{childList:!0})})),d(this,p,"m",q).call(this,w.ON_LOVELACE_PANEL_LOAD,Object.assign(Object.assign({},d(this,P,"f")),d(this,C,"f"))))},J=function(e){e.forEach((({addedNodes:e})=>{e.forEach((e=>{e.localName===H.HA_MORE_INFO_DIALOG&&d(this,p,"m",x).call(this)}))}))},X=function(e){e.forEach((({addedNodes:e})=>{e.forEach((e=>{const t={[H.HA_MORE_INFO_DIALOG_INFO]:R.HA_MORE_INFO_DIALOG_INFO,[H.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]:R.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK,[H.HA_DIALOG_MORE_INFO_SETTINGS]:R.HA_DIALOG_MORE_INFO_SETTINGS};if(e.localName&&e.localName in t){const n=e.localName;d(this,p,"m",x).call(this,t[n])}}))}))},Z=function(e){e.forEach((({addedNodes:e})=>{e.forEach((e=>{e.localName===H.HA_PANEL_LOVELACE&&d(this,p,"m",z).call(this)}))}))},ee=function(e){e.forEach((({addedNodes:e})=>{e.forEach((e=>{e.localName===H.HUI_ROOT&&d(this,p,"m",z).call(this)}))}))};console.info("%c  Custom-ui-filter-attributes  \n%c  Version 20231211 Filter attributes from more-info dialogs attributes dropdown","color: gold; font-weight: bold; background: black","color: white; font-weight: bold; background: steelblue"),window.customUI={installCustomFilters(){const e=["options","icon_color"];this.selector=new te,this.selector.addEventListener(w.ON_LOVELACE_MORE_INFO_DIALOG_OPEN,(t=>{t.detail.HA_MORE_INFO_DIALOG_INFO.selector.$.query("more-info-content").$.query(["more-info-default","more-info-vacuum","more-info-light"].join(",")).$.query("ha-attributes").element.then((t=>{if(t){const n=t.extraFilters||"",o=n.length?",":"";t.extraFilters=n+o+e.join(",")}}))})),this.selector.listen()},init(){this.selector||this.installCustomFilters()}},Promise.resolve(customElements.whenDefined("hui-view")).then((()=>{window.customUI.init()}))}();
